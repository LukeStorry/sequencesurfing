---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";

import type { CourseInfo as Props } from "../content/config";

const { title, description, slug, image } = Astro.props;

const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/assets/*.{jpeg,jpg,png,gif}"
);
const imageFile = image ? images[image.src] : undefined;
---

<li class="list-none rounded border-4 border-yellow-200 m-4 p-2">
  <a href={"/" + slug}>
    <h2 class="font-bold text-lg">{title}</h2>
    <p class="">{description}</p>
    {imageFile && image && <Image src={imageFile()} alt={image.alt} />}
  </a>
</li>
